/* Evolution Lang v1.0.0-alpha | Copyright (C) 2022 Evolution Lang | http://www.apache.org/licenses/LICENSE-2.0 */
var gvars={},d={atc:function(){},atcd:[],atcc:0,atcdat:"",retd:{type:"null",dt:"null",headers:{null:"null"}},funct:!1,class:"",evurl:"https://evolution-lang.greatusername.repl.co/evolution/",lc:!1,prevt:!1,ifs:!1,su:!1,class:!1},basehead={rd:{item:{type:"funct",dt:"<function @defaults.item function>",headers:{fn:{attrib:{c:"null"},code:"cnch6 @self;cnch6 c;cnc6;return dat;",head:{}}}},set:{type:"funct",dt:"<function @defaults.set function>",headers:{fn:{attrib:{key:"null",value:"null"},code:"cnch7 @self;cnch7 key;cnch7 value;cnc7;return dat;",head:{}}}},type:{type:"funct",dt:"<function @defaults.type function>",headers:{fn:{attrib:{"":"null"},code:"cnch13 @self;cnc13;return dat;",head:{}}}},concat:{type:"funct",dt:"<function @defaults.concat function>",headers:{fn:{attrib:{string:"null"},code:"cnch14 @self;cnch14 string;cnc14;return dat;",head:{}}}}}};function rep(t){return JSON.parse(JSON.stringify(t))}var cnch={},vars=rep(gvars);function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(t,e,n){return t.replace(new RegExp(escapeRegExp(e),"g"),n)}function htmlDecode(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent}function typeify(t,e=!1){var n={type:"null",dt:"null",headers:{}};if(/^[ \n\t]*(.*)[ \n\t]*===[ \n\t]*(.*)[ \n\t]*$/.test(t))n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*===[ \n\t]*(.*)[ \n\t]*$/))[1]).type==typeify(a[2]).type&&typeify(a[1]).dt==typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}};else if(/^[ \n\t]*(.*)[ \n\t]*!==[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*!==[ \n\t]*(.*)[ \n\t]*$/))[1]).type==typeify(a[2]).type&&typeify(a[1]).dt!=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*>==[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*>==[ \n\t]*(.*)[ \n\t]*$/))[1]).type==typeify(a[2]).type&&typeify(a[1]).dt>=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*<==[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*<==[ \n\t]*(.*)[ \n\t]*$/))[1]).type==typeify(a[2]).type&&typeify(a[1]).dt<=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*>=[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*>=[ \n\t]*(.*)[ \n\t]*$/))[1]).dt>=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*<=[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*<=[ \n\t]*(.*)[ \n\t]*$/))[1]).dt<=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*>[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*>[ \n\t]*(.*)[ \n\t]*$/))[1]).dt>typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*<[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*<[ \n\t]*(.*)[ \n\t]*$/))[1]).dt<typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*==[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*==[ \n\t]*(.*)[ \n\t]*$/))[1]).dt==typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*(.*)[ \n\t]*!=[ \n\t]*(.*)[ \n\t]*$/.test(t)){n=typeify((a=t.match(/^[ \n\t]*(.*)[ \n\t]*!=[ \n\t]*(.*)[ \n\t]*$/))[1]).dt!=typeify(a[2]).dt?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*'([^']*)'[ \n\t]*$/.test(t)){n={type:"string",dt:(a=t.match(/[ \n\t]*'([^]*)'[ \n\t]*/))[1],headers:{}}}else if(/^[ \n\t]*"([^"]*)"[ \n\t]*$/.test(t)){n={type:"string",dt:(a=t.match(/[ \n\t]*"([^]*)"[ \n\t]*/))[1],headers:{}}}else if(/^[ \n\t]*`([^`]*)`[ \n\t]*$/.test(t)){if(null!=(n=(t=t.match(/[ \n\t]*`([^`]*)`[ \n\t]*/)[1]).match(/\$\{([^}]*)\}/g)))for(h of[...Array(n.length).keys()]){var r=rep(d.retd);ev(n[h].match(/\$\{([^}]*)\}/)[1]),t=t.replace(n[h],d.retd.dt,1),d.retd=rep(r)}n={type:"string",dt:t,headers:{}}}else if(/^[ \n\t]*(true|false)[ \n\t]*$/.test(t)){n="true"==(a=t.match(/^[ \n\t]*(true|false)[ \n\t]*$/)[1])?{type:"boolean",dt:!0,headers:{}}:{type:"boolean",dt:!1,headers:{}}}else if(/^[ \n\t]*([0-9]+)[ \n\t]*$/.test(t)){var a=t.match(/^[ \n\t]*([0-9]+)[ \n\t]*$/);n={type:"int",dt:parseInt(a),headers:{}}}else if(/^[ \n\t]*\[([^]*)\][ \n\t]*$/.test(t)){a=t.match(/^[ \n\t]*\[([^]*)\][ \n\t]*$/);var c=[];for(h of ap(a[1]).split(","))h=replaceAll(h,"\\c",","),c.push(typeify(h));n={type:"list",dt:"<list list>",headers:{ld:c}}}else if(/^[ \n\t]*\{([^]*)\}[ \n\t]*$/.test(t)){a=t.match(/^[ \n\t]*\{([^]*)\}[ \n\t]*$/),c={};for(h of ap(a[1]).split(",")){var s=(h=replaceAll(h,"\\c",",")).split(":");c[typeify(s[0]).dt]=typeify(s[1])}n={type:"map",dt:"<map map>",headers:{ld:c}}}else if(/^([ \n\t]*([^]+)[ \n\t]*([+\-*\/%^])[ \n\t]*([^]+))+$/.test(t)){a=t.matchAll(/[ \n\t]*[+\-*\/%^][ \n\t]*/g);for(var l of a){var i=(n=t.split(l[0]))[0].split(/[+\-*\/%^]/)[0];null==i&&(i=n[0]);var f=typeify(i).dt,p=n[1].split(/[+\-*\/%^]/)[0];null==p&&(p=n[1]);var o=typeify(p).dt;"+"==l?t=t.replace(i+l[0]+p,f+o):"-"==l?t=t.replace(i+l[0]+p,f-o):"*"==l?t=t.replace(i+l[0]+p,f*o):"/"==l?t=t.replace(i+l[0]+p,f/o):"%"==l?t=t.replace(i+l[0]+p,f%o):"^"==l&&(t=t.replace(i+l[0]+p,Math.pow(f,o)))}n={type:"int",dt:parseInt(t),headers:{}}}else if(e){if(d.lc)return"lc";error("CommandError",`Unknown command: ${line}.`)}else{r=rep(d.retd);ev(t),n=rep(d.retd),d.retd=r}null==n.headers.rd&&(n.headers.rd={});var y={item:{type:"funct",dt:"<function @defaults.item function>",headers:{fn:{attrib:{c:"null"},code:"cnch6 @self;cnch6 c;cnc6;return dat;",head:{}}}},set:{type:"funct",dt:"<function @defaults.set function>",headers:{fn:{attrib:{key:"null",value:"null"},code:"cnch7 @self;cnch7 key;cnch7 value;cnc7;return dat;",head:{}}}},type:{type:"funct",dt:"<function @defaults.type function>",headers:{fn:{attrib:{"":"null"},code:"cnch13 @self;cnc13;return dat;",head:{}}}},concat:{type:"funct",dt:"<function @defaults.concat function>",headers:{fn:{attrib:{string:"null"},code:"cnch14 @self;cnch14 string;cnc14;return dat;",head:{}}}}};for(var h in y)null==n.headers.rd[h]&&(n.headers.rd[h]=y[h]);return n}function ap(t,e=","){var n=[!1],r=[],a=[];for(var c of t)a.push(c);t="";var d={"(":")","[":"]",'"':'"',"'":"'","`":"`"};for(var s of a)n[0]?(d[r[0]]==s&&delete n[0],t+=s==e?"\\c":s):(s in d&&(n.splice(0,0,!0),r.splice(0,0,s)),t+=s),1;return t}function error(t,e){throw`${t}: ${e}`}function cvar(t,e,n,r={},a=!1,c=!1){for(var s in!t.match(/^[A-Za-z$_]+[A-Za-z$_0-9]*$/)&!d.su&!c&&error("VarError",`Cannot create variable with name ${t}.`),basehead.rd)null==r[s]&&(r[s]=basehead.rd[s]);return vars[t]={type:e,dt:n,headers:r},a&&(gvars[t]={type:e,dt:n,headers:r}),!0}function callfunct(t,e={}){var n=t.headers.fn.attrib,r=(gvar,[]);for(item in n)r.push(item)}function evaluate(t){if(/^([ \n\t]*)$/.test(t));else if(/^[ \n\t]*funct[ \n\t]+([^\n ]+)[ \n\t]*\(([^]*)\)[ \n\t]*\{$/.test(t)){d.atc=function(t,e,n){cvar(e[0],"funct",`<function ${e[0]} function>`,{fn:{attrib:e[1],code:t,head:{}}},!d.class)};var e=t.match(/[ \n\t]*funct[ \n\t]+([^\n ]+)[ \n\t]*\(([^]*)\)[ \n\t]*\{$/),n={};for(s of e[2].split(/[ \n\t]*,[ \n\t]*/))1!=s.split(/[ \n\t]*=[ \n\t]*/).length?n[s.split(/[ \n\t]*=[ \n\t]*/)[0]]=s.split(/[ \n\t]*=[ \n\t]*/)[1]:n[s]="null";d.atcd=[e[1],n],d.atcc+=1}else if(/^[ \n\t]*([^( ]+)[ \n\t]*\(([^]*)\)[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*([^( ]+)[ \n\t]*\(([^]*)\)[ \n\t]*$/);var r=rep(gvars),a=[];for(s of replaceAll(ap(e[2].replace("\\,","\\comma")),"\\c","\\comma").split(/[ \n\t]*,[ \n\t]*/))""!=(s=s.replace("\\comma",","))&&(s=typeify(s),a.push(s));var c=0,s=rep(typeify(e[1]));for($ in s.headers.fn.attrib){var l=s.headers.fn.attrib[$];if(null==a[c])break;r[$]=a[c],c+=1}var i=vars;e[1].split(".").length>1&&(r["@self"]=rep(typeify(e[1].split(".")[e[1].split(".").length-2]))),vars=r,cvar("@functname","string",e[1],{},!1,!0),ev(s.headers.fn.code),vars=i}else if(/^[ \n\t]*var[ \n\t]*([^\n ]+)[ \n\t]*=[ \n\t]*([^]+)[ \n\t]*$/.test(t)){var f=rep(typeify((e=t.match(/[ \n\t]*var[ \n\t]*([^\n ]+)[ \n\t]*=[ \n\t]*([^]+)[ \n\t]*/))[2]));cvar(rep(e[1]),f.type,f.dt,f.headers)}else if(/^[ \n\t]*return[ \n\t]+([^\n ]*)[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*return[ \n\t]+([^\n ]*)[ \n\t]*$/);d.retd=typeify(e[1])}else if(/^[ \n\t]*(else){0,1}[ \n\t]*if[ \n\t]*\((.*)\)[ \n\t]*\{[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*(else){0,1}[ \n\t]*if[ \n\t]*\((.*)\)[ \n\t]*\{[ \n\t]*$/);if(d.atc=function(t,e,n){d.ifs=!0,e[0]&&(ev(t),d.prevt=!0),d.ifs=!0},"else"==e[1])if(d.ifs||error("SyntaxError","Elseif without if statement before."),d.prevt)var p=!1;else p=typeify(e[2]).dt;else p=typeify(e[2]).dt;d.atcd=[p],d.atcc=1}else if(/^[ \n\t]*else[ \n\t]*\{[ \n\t]*/.test(t)){e=t.match(/^[ \n\t]*else[ \n\t]*\{[ \n\t]*/);d.ifs||error("SyntaxError","Else without if statement before."),d.prevt?(d.atc=function(t,e,n){},d.atcd=[],d.atcc=1):(d.atc=function(t,e,n){d.ifs=!1,ev(t),d.prevt=!1},d.atcd=[],d.atcc=1)}else if(/^[ \n\t]*class[ \n\t]+([^\n ]+)[ \n\t]*\([^\n ]+\)[ \n\t]*\{$/.test(t)){e=t.match(/^[ \n\t]*class[ \n\t]+([^\n ]+)[ \n\t]*\([^\n ]+\)[ \n\t]*\{$/);d.atc=function(t,e,n){for(h in i=rep(vars),vars)null==vars[h].headers&&error("",""),vars[h].headers.ZH=1;for(h in d.class=!0,ev(t),d.class=!1,vd={},vars)1!=vars[h].headers.ZH&&(vars[h].headers.ZH=0,vd[h]=vars[h]);vars=i,cvar(e[0][1],"class",`<class ${e[0][1]} class>`,{rd:rep(vd)},!0)},d.atcd=[e],d.atcc+=1}else if(/^[ \n\t]*while[ \n\t]*\(([^]*)\)[ \n\t]*\{[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*while[ \n\t]*\(([^]*)\)[ \n\t]*\{[ \n\t]*$/);d.atc=function(t,e,n){for(var r=1;r<1e5&&typeify(e[0]).dt;)ev(t),r++},d.atcd=[e[1]],d.atcc+=1}else if(/^[ \n\t]*for[ \n\t]*\(([^]*)\)[ \n\t]*\{[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*for[ \n\t]*\(([^]*)\)[ \n\t]*\{[ \n\t]*$/);d.atc=function(t,e,n){if("list"==e[1].type)for(var r of e[1].headers.ld)cvar(e[0],r.type,r.dt,r.headers),ev(t);else if("map"==e[1].type)for(var r in e[1].headers.ld)cvar(e[0],"string",r,basehead),ev(t);else error("TypeError",`Cannot loop over non-iterable type "${e[1].type}".`)};var o=[e[1].match(/[ \n\t]*([^ ]+)[ \n\t]*\:[ \n\t]*([^ ]+)[ \n\t]*/)[1],typeify(e[1].match(/[ \n\t]*([^ ]+)[ \n\t]*\:[ \n\t]*([^ ]+)[ \n\t]*/)[2])];d.atcd=o,d.atcc+=1}else if(/^[ \n\t]*cnc[ \n\t]*([0-9]+)[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*cnc[ \n\t]*([0-9]+)[ \n\t]*$/);if(l=parseInt(e[1]),null!=cnch[l])var y=rep(cnch[l]);else y=[];if(2==l)console.log(y[0].dt);else if(3==l)console.error(y[0].dt);else if(4==l)alert(y[0].dt);else if(5==l)error(y[0].dt,y[1].dt);else if(6==l){if("string"==y[0].type)""==(h=y[0].dt.charAt(parseInt(y[1].dt)))&&error("KeyError","No such key."),cvar("dat","string",h,{});else if("list"==y[0].type){cvar("dat",(h=y[0].headers.ld[parseInt(y[1].dt)]).type,h.dt,basehead)}else if("map"==y[0].type){var h,u=y[1].dt;cvar("dat",(h=y[0].headers.ld[u]).type,h.dt,basehead)}else error("TypeError","Type is not available for @defaults.item.")}else if(7==l)if("map"==y[0].type){var v=y[0].headers.ld;v[y[1].dt]=y[2];var m=y[0].headers;m.ld=v,cvar("dat","map",y[0].dt,m)}else error("TypeError","Cannot Set item of unknown type.");else if(8==l)dtdt=typeify("`"+document.title.toString()+"`"),cvar("dat","string",dtdt.dt,dtdt.headers);else if(9==l)dtdt=typeify("`"+document.documentElement.innerHTML+"`"),cvar("dat","string",dtdt.dt,dtdt.headers);else if(10==l){if("id"==y[0].dt)var $=document.getElementById(y[1].dt);else $=document.querySelector(y[1].dt);"innerHTML"==y[2].dt?cvar("dat","string",$.innerHTML,basehead):cvar("dat","string",$.getAttribute(y[2].dt),basehead)}else if(11==l){if("id"==y[0].dt)$=document.getElementById(y[1].dt);else $=document.querySelector(y[1].dt);"innerHTML"==y[2].dt?($.innerHTML=y[3].dt,cvar("dat","string",$.innerHTML,basehead)):$.setAttribute(y[2].dt,y[3].dt)}else if(12==l){var g=document.createElement(y[0].dt);if("id"==y[1].dt)$=document.getElementById(y[2].dt);else $=document.querySelector(y[2].dt);"id"==y[3].dt?g.id=y[4].dt:g.setAttribute(y[3].dt,y[4].dt),$.appendChild(g)}else 13==l?cvar("dat","string",y[0].type,basehead):14==l&&cvar("dat","string",y[0].dt+y[1].dt,basehead);cnch[l]=[]}else if(/^[ \n\t]*cnch[ \n\t]*([0-9]+)[ \n\t]+([^]+)[ \n\t]*$/.test(t)){e=t.match(/^[ \n\t]*cnch[ \n\t]*([0-9]+)[ \n\t]+([^]+)[ \n\t]*$/);l=parseInt(e[1]),void 0===cnch[l]&&(cnch[l]=[]),cnch[l].push(typeify(e[2]))}else if(/^[ \n\t]*getvars[ \n\t]*$/.test(t))console.log(vars);else if(t.includes(".")){var b=rep(typeify(t.split(".")[0])),E=0;i=rep(vars);for(s of t.split("."))E==t.split(".").length-1&&(d.retd=b[s]),b=0==E?b.headers.rd:b[s].headers.rd,E+=1}else null!=vars[t.replace(/[ \n\t]*/g,"")]?d.retd=vars[t.replace(/[ \n\t]*/g,"")]:typeify(t,!0)}function ev(t){var e=(t=(t=(t=ap(t=(t=(t=htmlDecode(t)).replace(/[ \n\t]*\/#[^]*#\/[ \n\t]*/g,"")).replace(/\/\/[^\n]*/g,""),";")).replace(/[ \n\t]*\)[ \n\t]*{[ \n\t]*/g,"){;")).replace(/[ \n\t]*else[ \n\t]*{[ \n\t]*/g,"else{;")).split(/[ \n\t]*;[ \n\t]*/);t=replaceAll(t,"\\c",";");for(line of e)if(line=replaceAll(line,"\\c",";"),0==d.atcc){var n=rep(d.prevt),r=rep(d.ifs);evaluate(line),n&&d.prevt&&(d.prevt=!1),r&&d.ifs&&(d.ifs=!1)}else{for(item of line.split(""))"{"==item&&(d.atcc+=1),"}"==item&&(d.atcc-=1);0==d.atcc?(d.atc(d.atcdat,d.atcd,line),d.atcdat="",d.atct=[],d.atcc=0,evaluate(line.replace(/[ \n\t]*}[ \n\t]*/,"",1))):d.atcdat+=line+";"}}d.su=!0,ev('funct log(txt){\ncnch2 txt;\ncnc2;\n};\nfunct error(txt){\ncnch3 txt;\ncnc3;\n};\nfunct alert(txt){\ncnch4 txt;\ncnc4;\n};\nfunct throw(n,t){\ncnch5 n;\ncnch5 t;\ncnc5;\n};\nclass @defaults(static){\n\tfunct item(self,c){\n\tcnch6 self;\n\tcnch6 c;\n\tcnc6;\n\treturn dat;\n};\nfunct set(self,key,value){\n\tcnch7 self;\n\tcnch7 key;\n\tcnch7 value;\n\tcnc7;\n\treturn dat;\n};\nfunct type(self){\n\tcnch13 self;\n\tcnc13;\n\treturn dat;\n};\nfunct concat(self,string){\n\tcnch14 self;\n\tcnch14 string;\n\tcnc14;\n\treturn dat;\n};\n};\nclass doc(static){\n\tfunct title(){\n\t\tcnc8;\n\t\treturn dat;\n\t};\n\tfunct HTML(){\n\t\tcnc9;\n\t\treturn dat;\n\t};\n\tfunct getElement(sel,retd="innerHTML",seltype="id"){\n\t\tcnch10 seltype;\n\t\tcnch10 sel;\n\t\tcnch10 retd;\n\t\tcnc10;\n\t\treturn dat;\n\t};\n\tfunct setElement(sel,value,it="innerHTML",seltype="id"){\n\t\tcnch11 seltype;\n\t\tcnch11 sel;\n\t\tcnch11 it;\n\t\tcnch11 value;\n\t\tcnc11;\n\t\treturn dat;\n\t};\n\tfunct createElement(type,tsel,sel,tseltype="id",seltype="id"){\n\t\tcnch12 type;\n\t\tcnch12 seltype;\n\t\tcnch12 sel;\n\t\tcnch12 tseltype;\n\t\tcnch12 tsel;\n\t\tcnc12;\n\t};\n};'),d.su=!1,window.onload=function(){var t=[];document.querySelectorAll("ev, evolution").forEach((function(e){if(e.style.display="none",e.hasAttribute("src")){const t=new XMLHttpRequest;var n=e.getAttribute("src");1==n.split(".").length&&(n=d.evurl+"lib/"+n),t.open("GET",n,!1),t.send(),e.innerHTML+=t.responseText}t.push(e)}));var e=document.querySelectorAll("[ev-onclick]");for(var n of e)n.addEventListener("click",(function(){ev(this.getAttribute("ev-onclick"))}));t.forEach((function(t){ev(t.innerHTML)}))};